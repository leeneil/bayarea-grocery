<!DOCTYPE html>
<html>
  <head>
    <title>Groceroy stores in Bay Area</title>
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-79479300-1"></script>
    <!-- Facebook OG -->
    <meta name="keywords" content="San Francisco, Covid-19, shelter in place"/>
    <meta property="og:type" content="article"/>
    <meta property="og:site_name" content="Groceroy stores in Bay Area"/>
    <meta property="og:title" content="Groceroy stores in Bay Area"/>
    <meta property="og:url" content="http://www.ponan.li/bayarea-grocery/"/>
    <meta property="og:description" content="Info visualization of live inventory at grocery stores in the San Francisco Bay Area."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:image" content="http://www.ponan.li/bayarea-grocery/og.png"/>
    <meta charset="utf-8">
    <style>
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      #map {
        height: 100%;
        z-index: 1;
      }
      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 98%;
        margin: 0 0 0 0;
        padding: 0 0 0 0;
      }
    </style>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  </head>
  <body>
    <div id="map"></div>
    <script>
      function initMap() {
        // Styles a map in night mode.
        var map = new google.maps.Map(document.getElementById('map'), {
          center: {lat: 37.420, lng: -122.057},
          zoom: 11,
          styles: [
            {elementType: 'geometry', stylers: [{color: '#242f3e'}]},
            {elementType: 'labels.text.stroke', stylers: [{color: '#242f3e'}]},
            {elementType: 'labels.text.fill', stylers: [{color: '#746855'}]},
            {
              featureType: 'administrative.locality',
              elementType: 'labels.text.fill',
              stylers: [{color: '#d59563'}]
            },
            {
              featureType: 'poi',
              elementType: 'labels.text.fill',
              stylers: [{color: '#d59563'}]
            },
            {
              featureType: 'poi.park',
              elementType: 'geometry',
              stylers: [{color: '#263c3f'}]
            },
            {
              featureType: 'poi.park',
              elementType: 'labels.text.fill',
              stylers: [{color: '#6b9a76'}]
            },
            {
              featureType: 'road',
              elementType: 'geometry',
              stylers: [{color: '#38414e'}]
            },
            {
              featureType: 'road',
              elementType: 'geometry.stroke',
              stylers: [{color: '#212a37'}]
            },
            {
              featureType: 'road',
              elementType: 'labels.text.fill',
              stylers: [{color: '#9ca5b3'}]
            },
            {
              featureType: 'road.highway',
              elementType: 'geometry',
              stylers: [{color: '#746855'}]
            },
            {
              featureType: 'road.highway',
              elementType: 'geometry.stroke',
              stylers: [{color: '#1f2835'}]
            },
            {
              featureType: 'road.highway',
              elementType: 'labels.text.fill',
              stylers: [{color: '#f3d19c'}]
            },
            {
              featureType: 'transit',
              elementType: 'geometry',
              stylers: [{color: '#2f3948'}]
            },
            {
              featureType: 'transit.station',
              elementType: 'labels.text.fill',
              stylers: [{color: '#d59563'}]
            },
            {
              featureType: 'water',
              elementType: 'geometry',
              stylers: [{color: '#17263c'}]
            },
            {
              featureType: 'water',
              elementType: 'labels.text.fill',
              stylers: [{color: '#515c6d'}]
            },
            {
              featureType: 'water',
              elementType: 'labels.text.stroke',
              stylers: [{color: '#17263c'}]
            }
          ]
        });
        map.data.loadGeoJson('https://bayarea-grocery.firebaseapp.com/data.json');
        var infowindow = new google.maps.InfoWindow();
        google.maps.event.addListener(map, 'click', function() {
          infowindow.close();
        });
        map.data.addListener('click', function(event) {
          var keyword = event.feature.getProperty('name');
          infowindow.setContent(event.feature.getProperty('content'));
           infowindow.setPosition(event.latLng);
           infowindow.setOptions({pixelOffset: new google.maps.Size(0,-34)});
           infowindow.open(map);
        });
      }

    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAd5AayJWH2uYLAYRrdliecr8xg599Xbi0&callback=initMap"
    async defer></script>
    <footer>
      <div class="footer-copyright text-center">
      Disclaimer: the author doesn't own the <a href="https://docs.google.com/spreadsheets/d/1YpNdWWlvtZJ1xN7GW-XYMI_hEuU5u250bJUT55NM8Oc/htmlview?from=timeline&isappinstalled=0&fbclid=IwAR03bJGfoqpFnB7x0xdnrqvjoyKNJmyD7QBuZ6O5ln5AT8jb_A1Bh9SNgqw" target="_blank">data</a> in anyway. Please <a href="https://docs.google.com/forms/d/e/1FAIpQLSchp7hUKvXWYwz2NvTyANYNZNuBfh21EZ0dQFvgqqYYEDGhqw/viewform" target="_blank">contribute data here</a>.
      <span class="badge badge-danger">Crowdednss level</span>
      </div>
    </footer>
  </body>
</html>
